!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=10)}([function(e,t){e.exports=function(e=0,t){if(e>t){let s=t;t=e,e=s}return Math.floor(Math.random()*(t-e)+e)}},function(e,t){const s=document.querySelector("canvas").getContext("2d");e.exports=class{constructor(e,t){this.x=e,this.y=t,this.isAlive=!0}draw(){s.beginPath(),s.rect(this.x,this.y,3,3),s.fillStyle="yellow",s.fill(),s.strokeStyle="yellow",s.lineWidth=1,s.stroke()}}},function(e,t){},function(e,t){e.exports=function(e){return e.split("").map((e,t)=>0===t?e.toUpperCase():e).join("")}},function(e,t){e.exports=class{constructor(e={color:color,size:size,aggro:aggro,speed:speed}){this.color=e.color,this.size=e.size,this.aggro=e.aggro,this.speed=e.speed}}},function(e,t,s){const i=s(1),r=s(0),n=document.querySelector("canvas"),h=n.getContext("2d");class o{constructor(e,t,s,i){this.x=t,this.y=s,this.species=e,this.targets=[],this.target=null,this.isAlive=!0,this.size=e.size,this.direction="north",this.counter=0,this.selected=!1,this.sim=i}static getDirection(e="all"){let t=["north","northeast","east","southeast","south","southwest","west","northwest"];const s=e=>t.filter(t=>t.includes(e));switch(e){case"north":t=s("north");break;case"south":t=s("south");break;case"east":t=s("east");break;case"west":t=s("west")}return t[r(0,t.length-1)]}constrain(){this.x<this.size&&(this.x=this.size,this.direction=o.getDirection("west")),this.x>n.width-this.size&&(this.x=n.width-this.size,this.direction=o.getDirection("east")),this.y<this.size&&(this.y=this.size,this.direction=o.getDirection("south")),this.y>n.height-this.size&&(this.y=n.height-this.size,this.direction=o.getDirection("north"))}closest(e){let t=1e6,s=null;return e.forEach(e=>{let i=this.distanceTo(e);i<t&&(t=i,s=e)}),s}detectCollision(){this.isAlive&&0!==this.targets.length&&this.targets.forEach(e=>{this.distanceTo(e)<this.size&&(e.size>this.size?(e.size+=1,this.isAlive=!1):(this.size+=1,e.isAlive=!1),this.targets=[])})}detectLife(){if(this.isAlive)if(this.targets=this.sim.creatures.concat(this.sim.food),this.targets=this.targets.filter(e=>{let t=this.distanceTo(e)<this.species.aggro,s=!1;return e instanceof o?s=this.species.color!==e.species.color:e instanceof i&&(s=!0),e!==this&&t&&s}),0===this.targets.length){switch(0===this.counter&&(this.direction=o.getDirection(),this.counter=r(50,250)),this.direction){case"north":this.x+=0,this.y-=this.species.speed;break;case"northeast":this.x+=this.species.speed,this.y-=this.species.speed;break;case"east":this.x+=this.species.speed,this.y+=0;break;case"southeast":this.x+=this.species.speed,this.y+=this.species.speed;break;case"south":this.x+=0,this.y+=this.species.speed;break;case"southwest":this.x-=this.species.speed,this.y+=this.species.speed;break;case"west":this.x-=this.species.speed,this.y-=0;break;case"northwest":this.x-=this.species.speed,this.y-=this.species.speed}this.constrain(),this.counter-=1}else this.target=this.closest(this.targets),this.target.size<this.size?(this.target.x<this.x?this.x-=this.species.speed:this.x+=this.species.speed,this.target.y<this.y?this.y-=this.species.speed:this.y+=this.species.speed):(this.target.x<this.x?this.x+=this.species.speed:this.x-=this.species.speed,this.target.y<this.y?this.y+=this.species.speed:this.y-=this.species.speed),this.constrain()}draw(){h.beginPath(),h.arc(this.x,this.y,this.size,0,2*Math.PI,!1),h.fillStyle=this.species.color,h.fill(),h.strokeStyle=this.selected?"white":this.species.color,h.lineWidth=1,h.stroke()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}}e.exports=o},function(e,t,s){const i=s(5),r=s(4),n=s(1),h=s(0),o=s(3),c=document.getElementById("popBtn"),a=document.querySelector("canvas"),l=a.getContext("2d");function d(){l.clearRect(0,0,a.width,a.height)}const u=document.getElementById("indivStats");u.style.visibility="hidden";const p=document.getElementById("redTotal"),g=document.getElementById("greenTotal"),f=document.getElementById("blueTotal"),m=document.getElementById("species"),x=document.getElementById("posX"),y=document.getElementById("posY"),v=document.getElementById("target");e.exports=class{constructor(){this.paused=!1,this.creatures=[],this.food=[],this.clicktargets=[],this.simInterval=null,this.selectedCreature=null,this.speciesList={red:new r({color:"red",size:10,aggro:45,speed:1}),green:new r({color:"green",size:7,aggro:40,speed:2}),blue:new r({color:"blue",size:5,aggro:50,speed:2.5})}}generateSpecies(e){let t=h(e.size,a.width-e.size),s=h(e.size,a.height-e.size);this.creatures.push(new i(e,t,s,this))}generateFood(e){for(;this.food.length<e;){let e=h(3,a.width-3),t=h(3,a.height-3);this.food.push(new n(e,t))}}trackStats(){let e={};this.creatures.forEach(t=>{e[t.species.color]?e[t.species.color]+=1:e[t.species.color]=1}),p.innerText=e.red,g.innerText=e.green,f.innerText=e.blue}trackCreatureStats(e){m.innerText=o(e.species.color)+" Circle",x.innerText=e.x,y.innerText=e.y,e.target?e.target instanceof n?v.innerText="Food":v.innerText=o(e.target.species.color)+" Circle":v.innerText="None"}populate(e={redMin:10,redMax:20,greenMin:10,greenMax:20,blueMin:10,blueMax:20,foodMin:20,foodMax:50}){this.setEventListeners();const t=h(e.redMin,e.redMax),s=h(e.greenMin,e.greenMax),i=t+h(e.blueMin,e.blueMax)+s;for(c.disabled=!0;this.creatures.length<i;)this.creatures.length<t?this.generateSpecies(this.speciesList.red):this.creatures.length>=t&&this.creatures.length<t+s?this.generateSpecies(this.speciesList.green):this.creatures.length>=t+s&&this.creatures.length<i&&this.generateSpecies(this.speciesList.blue);this.generateFood(h(e.foodMin,e.foodMax)),this.creatures.forEach(e=>e.draw()),this.food.forEach(e=>e.draw()),this.simInterval=setInterval(()=>{this.paused||(d(),this.creatures=this.creatures.filter(e=>e.isAlive),this.food=this.food.filter(e=>e.isAlive),this.creatures.forEach(e=>{e.detectLife(),e.detectCollision(),e.draw()}),this.food.forEach(e=>e.draw())),this.selectedCreature?(this.trackCreatureStats(this.selectedCreature),u.style.visibility="visible",u.className=this.selectedCreature.species.color):u.style.visibility="hidden",this.trackStats()},33)}resetSimulation(){this.simInterval&&clearInterval(this.simInterval),this.creatures=[],this.food=[],d(),c.disabled=!1}clickCreature(){const e={x:event.offsetX,y:event.offsetY};this.creatures.forEach(t=>{t.distanceTo(e)<t.size+5?(t.selected=!0,this.clicktargets.push(t)):t.selected=!1,0===this.clicktargets.length?this.selectedCreature=null:this.clicktargets.length>=1&&(this.selectedCreature=this.clicktargets[0]),this.clicktargets=this.clicktargets.filter(e=>e.selected)})}setEventListeners(){a.addEventListener("click",()=>this.clickCreature())}}},function(e,t,s){const i=s(6);e.exports=class{constructor(){this.simulation=null,this.sliders=Array.from(document.querySelectorAll('input[type="range"]')),this.outputs=Array.from(document.querySelectorAll("output")),this.config={}}setSliderValue(e,t){this.config[e]=parseInt(t),this.outputs.filter(t=>t.name===e)[0].value=t}setSliderMax(){this.sliders.forEach(e=>{this.setSliderValue(e.id,e.max),e.value=e.max})}setSliderMin(){this.sliders.forEach(e=>{this.setSliderValue(e.id,e.min),e.value=e.min})}setSliderDefaults(){this.sliders.forEach(e=>{this.setSliderValue(e.id,e.value)})}setSliderEventListeners(){this.sliders.forEach(e=>e.addEventListener("change",()=>{controls.setSliderValue(event.target.id,event.target.value)}))}togglePause(){this.simulation&&(this.simulation.paused=!this.simulation.paused)}resetSliderValue(){Object.entries({redMin:10,redMax:20,greenMin:10,greenMax:20,blueMin:10,blueMax:20,foodMin:20,foodMax:50}).forEach(([e,t])=>{this.sliders.filter(t=>t.id===e)[0].value=t,this.outputs.filter(t=>t.name===e)[0].value=t,this.config[e]=parseInt(t)})}startSimulation(){this.simulation=new i,this.simulation.populate(this.config)}resetSimulation(){this.simulation&&(this.simulation.resetSimulation(),this.simulation=null)}setEventListeners(){this.setSliderEventListeners(),popBtn.addEventListener("click",()=>this.startSimulation()),document.getElementById("resetBtn").addEventListener("click",()=>this.resetSliderValue()),document.getElementById("maxBtn").addEventListener("click",()=>this.setSliderMax()),document.getElementById("minBtn").addEventListener("click",()=>this.setSliderMin()),document.getElementById("pauseBtn").addEventListener("click",()=>this.togglePause()),document.getElementById("resetSimBtn").addEventListener("click",()=>this.resetSimulation())}}},function(e,t){e.exports=function(e,...t){let s=0,i="";return e.innerText.split("").forEach(e=>{i+=`<span class="${t[s]}">${e}</span>`,(s+=1)>=t.length&&(s=0)}),i}},function(e,t,s){const i=s(8),r=document.getElementById("title");r.innerHTML=i(r,"red","green","blue");const n=new(s(7));n.setSliderDefaults(),n.setEventListeners()},function(e,t,s){s(9),e.exports=s(2)}]);